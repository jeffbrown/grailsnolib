<project name="grails" default="test">

	<property environment="env"/>
	<property file="${env.GRAILS_HOME}/build.properties"/>
	
	<path id="classpath">
		<fileset dir="${env.GRAILS_HOME}/lib" includes="*.jar" />
		<fileset dir="${env.GRAILS_HOME}/dist" includes="*.jar" />		
	</path>

	<!-- ================================= 
          target: clean              
         ================================= -->
    <target name="clean" description="--> Cleans a Grails application">
        <java classname="org.codehaus.groovy.grails.cli.GrailsScriptRunner" classpathref="classpath">
			<arg value="clean"/>    		
    	</java>
    </target>

	<!-- ================================= 
          target: war              
         ================================= -->
    <target name="war" description="--> Creates a WAR of a Grails application">
        <java classname="org.codehaus.groovy.grails.cli.GrailsScriptRunner" classpathref="classpath">
			<arg value="war"/>    		
    	</java>        
    </target>
	
	<!-- ================================= 
          target: test              
         ================================= -->
    <target name="test" description="--> Run a Grails applications unit tests">
        <java classname="org.codehaus.groovy.grails.cli.GrailsScriptRunner" 
        	  classpathref="classpath"         	  
        	  errorproperty="grails.test.failure">        	
			<arg value="test-app"/>    		
    	</java>	                                  
    </target>
	
	<!-- ================================= 
          target: deploy              
         ================================= -->
    <target name="deploy" depends="war" description="--> The deploy target (initially empty)">
        <!-- TODO -->
    </target>


</project>
